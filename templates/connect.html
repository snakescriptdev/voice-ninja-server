{% extends "base.html" %}

{% block title %}AI Voice Assistant{% endblock %}

{% block extra_head %}
<script src="//cdn.jsdelivr.net/npm/protobufjs@7.X.X/dist/protobuf.min.js"></script>
{% endblock %}

{% block header_title %}AI Voice Assistant{% endblock %}

{% block content %}
<input hidden id="username" placeholder="Username" value="admin">
<input hidden id="password" placeholder="Password" value="admin123">

<div class="control-panel">
    <div class="status-panel">
        <div class="connection-wrapper">
            <div class="connection-ring"></div>
            <div class="connection-circle">
                <i class="fas fa-broadcast-tower connection-icon"></i>
            </div>
            <div class="connection-text">
                <span class="connection-label">Status</span>
                <span id="connection-status">Disconnected</span>
            </div>
        </div>
    </div>
    <div class="voice-selector">
        <i class="fas fa-microphone"></i>
        <label for="language-select">Select Voice</label>
        <select id="language-select" class="language-dropdown">
            {% for voice in voices %}
            <option value="{{ voice }}">{{ voice }}</option>
            {% endfor %}
        </select>
    </div>
    <div>
        <button id="audio-list-btn" class="audio-list-btn">
            <i class="fas fa-list"></i>
            <span>Audio List</span>
        </button>
    </div>
</div>

<div class="button-group">
    <button id="start-btn" class="connect-btn">
        <i class="fas fa-play"></i> Start
    </button>
    <button id="stop-btn" class="disconnect-btn" disabled hidden>
        <i class="fas fa-stop"></i> Stop
    </button>
</div>

<div class="log-wrapper">
    <div class="log-header">
        <i class="fas fa-terminal"></i>
        <span>Activity Log</span>
    </div>
    <div class="log-container" id="log-container"></div>
</div>
{% endblock %}

{% block scripts %}
<script src="https://dev.voiceninja.ai/static/js/websocket.js"></script>
{% endblock %}