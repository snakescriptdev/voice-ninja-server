<nav id="sidebar" class="sidebar">
    <div class="close_sidebar_btn justify-content-end mb-2">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
            stroke="Black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="feather feather-x">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
    </div>
    <div class="d-flex justify-content-between align-items-center mb-4 px-4">
        <div class="sidebar_logo d-flex align-items-center gap-1">
            <img src="{{ host }}/static/Web/images/voice-ninja-logo.svg" class="img-fluid">
            <h5 class="mb-0">Voice Ninja</h5>
        </div>
        <div class="sidebar_collapse_icon">
            <button type="button" class="sidebarCollapse hamburger_btn bg-transparent border-0 sidebar_arrow_icon">
                <img src="{{ host }}/static/Web/images/left-arrow.svg" class="img-fluid">
            </button>
        </div>
    </div>
    <div class="sidebar_content">
        <!-- <div class="workspace_member_name mb-3">
            <div class="dropdown">
                <button class="dropdown-toggle border-0 bg-transparent d-flex align-items-center gap-2"
                    type="button" data-bs-toggle="dropdown" aria-expanded="false">
                    <span class="d-inline-flex justify-content-center align-items-center">G</span>
                    <p class="mb-0">Gurmailâ€™s...Workspace</p>
                </button>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#">Action</a></li>
                    <li><a class="dropdown-item" href="#">Another action</a></li>
                    <li><a class="dropdown-item" href="#">Something else here</a></li>
                </ul>
            </div>
        </div> -->
        <div class="sidebar_content_list">
            <ul class="list-unstyled">
                <li class="mb-1">
                    <a href="{{ url_for('dashboard') }}" class="d-flex align-items-center">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <rect width="20" height="20" rx="4" fill="#848484" />
                            <path d="M10 7.5V5H7.5" stroke="white" stroke-width="1.2" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path
                                d="M13.75 7.5H6.25C5.55964 7.5 5 8.05964 5 8.75V13.75C5 14.4403 5.55964 15 6.25 15H13.75C14.4403 15 15 14.4403 15 13.75V8.75C15 8.05964 14.4403 7.5 13.75 7.5Z"
                                stroke="white" stroke-width="1.2" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path d="M3.75 11.25H5M15 11.25H16.25M11.875 10.625V11.875M8.125 10.625V11.875"
                                stroke="white" stroke-width="1.2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                        <span>Agents</span>
                    </a>
                </li>
                <li class="mb-1">
                    <a href="{{ url_for('knowledge_base') }}" class="d-flex align-items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"
                            fill="none">
                            <path
                                d="M9 16.5C8.80109 16.5 8.61032 16.421 8.46967 16.2803C8.32902 16.1397 8.25 15.9489 8.25 15.75C8.25 14.9543 8.56607 14.1913 9.12868 13.6287C9.69129 13.0661 10.4544 12.75 11.25 12.75H15V3H11.25C10.8522 3 10.4706 3.15804 10.1893 3.43934C9.90804 3.72064 9.75 4.10217 9.75 4.5V11.25C9.75 11.4489 9.67098 11.6397 9.53033 11.7803C9.38968 11.921 9.19891 12 9 12C8.80109 12 8.61032 11.921 8.46967 11.7803C8.32902 11.6397 8.25 11.4489 8.25 11.25V4.5C8.25 3.70435 8.56607 2.94129 9.12868 2.37868C9.69129 1.81607 10.4544 1.5 11.25 1.5H15.75C15.9489 1.5 16.1397 1.57902 16.2803 1.71967C16.421 1.86032 16.5 2.05109 16.5 2.25V13.5C16.5 13.6989 16.421 13.8897 16.2803 14.0303C16.1397 14.171 15.9489 14.25 15.75 14.25H11.25C10.8522 14.25 10.4706 14.408 10.1893 14.6893C9.90804 14.9706 9.75 15.3522 9.75 15.75C9.75 15.9489 9.67098 16.1397 9.53033 16.2803C9.38968 16.421 9.19891 16.5 9 16.5Z"
                                fill="#848484" />
                            <path
                                d="M9 16.5C8.80109 16.5 8.61032 16.421 8.46967 16.2803C8.32902 16.1397 8.25 15.9489 8.25 15.75C8.25 15.3522 8.09196 14.9706 7.81066 14.6893C7.52936 14.408 7.14782 14.25 6.75 14.25H2.25C2.05109 14.25 1.86032 14.171 1.71967 14.0303C1.57902 13.8897 1.5 13.6989 1.5 13.5V2.25C1.5 2.05109 1.57902 1.86032 1.71967 1.71967C1.86032 1.57902 2.05109 1.5 2.25 1.5H6.75C7.54565 1.5 8.30871 1.81607 8.87132 2.37868C9.43393 2.94129 9.75 3.70435 9.75 4.5C9.75 4.69891 9.67098 4.88968 9.53033 5.03033C9.38968 5.17098 9.19891 5.25 9 5.25C8.80109 5.25 8.61032 5.17098 8.46967 5.03033C8.32902 4.88968 8.25 4.69891 8.25 4.5C8.25 4.10217 8.09196 3.72064 7.81066 3.43934C7.52936 3.15804 7.14782 3 6.75 3H3V12.75H6.75C7.54565 12.75 8.30871 13.0661 8.87132 13.6287C9.43393 14.1913 9.75 14.9543 9.75 15.75C9.75 15.9489 9.67098 16.1397 9.53033 16.2803C9.38968 16.421 9.19891 16.5 9 16.5Z"
                                fill="#848484" />
                        </svg>
                        <span> Knowledge Base</span>
                    </a>
                </li>
                <li class="mb-1">
                    <a href="{{ url_for('phone_number') }}" class="d-flex align-items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="13" height="17" viewBox="0 0 13 17"
                            fill="none">
                            <path
                                d="M0.833252 10.625H12.1666M0.833252 10.625V14.875C0.833252 15.0629 0.90788 15.243 1.04072 15.3759C1.17356 15.5087 1.35372 15.5833 1.54159 15.5833H11.4583C11.6461 15.5833 11.8263 15.5087 11.9591 15.3759C12.092 15.243 12.1666 15.0629 12.1666 14.875V10.625M0.833252 10.625V2.12499C0.833252 1.93713 0.90788 1.75696 1.04072 1.62412C1.17356 1.49128 1.35372 1.41666 1.54159 1.41666H11.4583C11.6461 1.41666 11.8263 1.49128 11.9591 1.62412C12.092 1.75696 12.1666 1.93713 12.1666 2.12499V10.625"
                                stroke="#848484" stroke-width="1.4" stroke-linejoin="round" />
                            <path d="M5.7915 13.1042H7.20817" stroke="#848484" stroke-width="1.4"
                                stroke-linecap="round" />
                        </svg>
                        <span>Phone Numbers</span>
                    </a>
                </li>
                <li class="mb-1">
                    <a href="{{ url_for('webhook') }}" class="d-flex align-items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 13 13"
                            fill="none">
                            <path
                                d="M6.5 12.875C4.87083 12.875 3.45133 12.335 2.2415 11.255C1.03167 10.1751 0.337972 8.82617 0.160417 7.20833H1.6125C1.77778 8.43611 2.3239 9.45139 3.25087 10.2542C4.17785 11.0569 5.26089 11.4583 6.5 11.4583C7.88125 11.4583 9.05307 10.9774 10.0155 10.0155C10.9778 9.05354 11.4588 7.88172 11.4583 6.5C11.4579 5.11828 10.9769 3.94669 10.0155 2.98525C9.05401 2.02381 7.88219 1.54261 6.5 1.54167C5.68542 1.54167 4.92396 1.73056 4.21562 2.10833C3.50729 2.48611 2.91111 3.00556 2.42708 3.66667H4.375V5.08333H0.125V0.833333H1.54167V2.49792C2.14375 1.74236 2.87876 1.15799 3.74671 0.744792C4.61465 0.331597 5.53242 0.125 6.5 0.125C7.38542 0.125 8.21487 0.293347 8.98837 0.630042C9.76187 0.966736 10.4348 1.42101 11.0071 1.99287C11.5795 2.56474 12.034 3.23765 12.3707 4.01163C12.7074 4.7856 12.8755 5.61506 12.875 6.5C12.8745 7.38494 12.7064 8.2144 12.3707 8.98837C12.0349 9.76235 11.5804 10.4353 11.0071 11.0071C10.4338 11.579 9.76093 12.0335 8.98837 12.3707C8.21582 12.7078 7.38636 12.8759 6.5 12.875ZM8.48333 9.475L5.79167 6.78333V2.95833H7.20833V6.21667L9.475 8.48333L8.48333 9.475Z"
                                fill="#848484" />
                        </svg>
                        <span>Webhooks</span>
                    </a>
                </li>
                <li class="mb-1">
                    <a href="{{ url_for('approved_domains') }}" class="d-flex align-items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" fill="currentColor" class="bi bi-globe-americas" viewBox="0 0 16 16">
                            <path d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0M2.04 4.326c.325 1.329 2.532 2.54 3.717 3.19.48.263.793.434.743.484q-.121.12-.242.234c-.416.396-.787.749-.758 1.266.035.634.618.824 1.214 1.017.577.188 1.168.38 1.286.983.082.417-.075.988-.22 1.52-.215.782-.406 1.48.22 1.48 1.5-.5 3.798-3.186 4-5 .138-1.243-2-2-3.5-2.5-.478-.16-.755.081-.99.284-.172.15-.322.279-.51.216-.445-.148-2.5-2-1.5-2.5.78-.39.952-.171 1.227.182.078.099.163.208.273.318.609.304.662-.132.723-.633.039-.322.081-.671.277-.867.434-.434 1.265-.791 2.028-1.12.712-.306 1.365-.587 1.579-.88A7 7 0 1 1 2.04 4.327Z"/>
                        </svg>
                        <span>Approved Domains</span>
                    </a>
                </li>
                <li class="mb-1">
                    <a href="{{ url_for('payment') }}" class="d-flex align-items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"
                            fill="none">
                            <path
                                d="M9 16.5C8.80109 16.5 8.61032 16.421 8.46967 16.2803C8.32902 16.1397 8.25 15.9489 8.25 15.75C8.25 14.9543 8.56607 14.1913 9.12868 13.6287C9.69129 13.0661 10.4544 12.75 11.25 12.75H15V3H11.25C10.8522 3 10.4706 3.15804 10.1893 3.43934C9.90804 3.72064 9.75 4.10217 9.75 4.5V11.25C9.75 11.4489 9.67098 11.6397 9.53033 11.7803C9.38968 11.921 9.19891 12 9 12C8.80109 12 8.61032 11.921 8.46967 11.7803C8.32902 11.6397 8.25 11.4489 8.25 11.25V4.5C8.25 3.70435 8.56607 2.94129 9.12868 2.37868C9.69129 1.81607 10.4544 1.5 11.25 1.5H15.75C15.9489 1.5 16.1397 1.57902 16.2803 1.71967C16.421 1.86032 16.5 2.05109 16.5 2.25V13.5C16.5 13.6989 16.421 13.8897 16.2803 14.0303C16.1397 14.171 15.9489 14.25 15.75 14.25H11.25C10.8522 14.25 10.4706 14.408 10.1893 14.6893C9.90804 14.9706 9.75 15.3522 9.75 15.75C9.75 15.9489 9.67098 16.1397 9.53033 16.2803C9.38968 16.421 9.19891 16.5 9 16.5Z"
                                fill="#848484" />
                            <path
                                d="M9 16.5C8.80109 16.5 8.61032 16.421 8.46967 16.2803C8.32902 16.1397 8.25 15.9489 8.25 15.75C8.25 15.3522 8.09196 14.9706 7.81066 14.6893C7.52936 14.408 7.14782 14.25 6.75 14.25H2.25C2.05109 14.25 1.86032 14.171 1.71967 14.0303C1.57902 13.8897 1.5 13.6989 1.5 13.5V2.25C1.5 2.05109 1.57902 1.86032 1.71967 1.71967C1.86032 1.57902 2.05109 1.5 2.25 1.5H6.75C7.54565 1.5 8.30871 1.81607 8.87132 2.37868C9.43393 2.94129 9.75 3.70435 9.75 4.5C9.75 4.69891 9.67098 4.88968 9.53033 5.03033C9.38968 5.17098 9.19891 5.25 9 5.25C8.80109 5.25 8.61032 5.17098 8.46967 5.03033C8.32902 4.88968 8.25 4.69891 8.25 4.5C8.25 4.10217 8.09196 3.72064 7.81066 3.43934C7.52936 3.15804 7.14782 3 6.75 3H3V12.75H6.75C7.54565 12.75 8.30871 13.0661 8.87132 13.6287C9.43393 14.1913 9.75 14.9543 9.75 15.75C9.75 15.9489 9.67098 16.1397 9.53033 16.2803C9.38968 16.421 9.19891 16.5 9 16.5Z"
                                fill="#848484" />
                        </svg>
                        <span> Payment</span>
                    </a>
                </li>
            </ul>
            <div class="bottom_total_token_box">
                <p class="text-black">Total Tokens: <span id="total_tokens">0</span></p>
            </div>

        </div>
      
    </div>
</nav>

<script>


    get_total_tokens();

    function get_total_tokens() {
        const user_id = {{ request.session.get("user").get('user_id') }};
        let host = "{{ host }}";
        $.ajax({
            url: host + '/get_total_tokens',
            type: 'GET',
            data: {
                user_id: user_id
            },
            success: function(response) {
                $('#total_tokens').text(response.total_tokens);
            }
        });
    }
</script>